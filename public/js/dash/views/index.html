<style type="text/css">
    .spinner{
        width: 100%;
        height: 50%;
        background: aliceblue;
        position: absolute;
        display: block;
    }
    .sortorder:after {
        content: '\25b2';
    }
    .sortorder.reverse:after {
        content: '\25bc';
    }
</style>
<h2>Encomiendas</h2>
<div class="row">
    <div class="col-md-4">
        <input type="date" id="dates" class="form-control" name="input" ng-model="dates" value="{{dates | date:'yyyy-MM-dd' }}" placeholder="" ng-change="searchByDate(dates)" required />
    </div>
</div>
</p>
<div class="spinner" ng-show="loading">
    <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>
</div>
<table class="table table-hover" ng-if="shipments">
    <thead>
        <tr>
            <th>
                <a href="" ng-click="order('code')">Guía</a>
                <span class="sortorder" ng-show="predicate === 'code'" ng-class="{reverse:reverse}"></span>
            </th>
            <th>
                <a href="" ng-click="order('senders.name')">Remitente</a>
                <span class="sortorder" ng-show="predicate === 'senders.name'" ng-class="{reverse:reverse}"></span>
            </th>
            <th>
                <a href="" ng-click="order('recivers.name')">Destinatario</a>
                <span class="sortorder" ng-show="predicate === 'recivers.name'" ng-class="{reverse:reverse}"></span>
            </th>
            <th>
                <a href="" ng-click="order('created_at')">Creación</a>
                <span class="sortorder" ng-show="predicate === 'created_at'" ng-class="{reverse:reverse}"></span>
            </th>
            <th>
                <a href="" ng-click="order('btransitos.updated_at')">Modificación</a>
                <span class="sortorder" ng-show="predicate === 'btransitos.updated_at'" ng-class="{reverse:reverse}"></span>
            </th>
            <th>
                <a href="" ng-click="order('btransitos.estados.name')">Estado</a>
                <span class="sortorder" ng-show="predicate === 'btransitos.estados.name'" ng-class="{reverse:reverse}"></span>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr ng-click="show(item.id)" ng-repeat="item in shipments | orderBy:predicate:reverse">
            <td><span style="color: blue">{{ item.code }}</span></td>
            <td>
                <strong><span style="display: block">{{ item.senders.name }}</span></strong>
                <span style="display: block">{{ item.senders.establecimiento.name}}</span>
            </td>
            <td>
                <strong><span style="display: block">{{ item.recivers.name }}</span></strong>
                <span style="display: block">{{ item.recivers.establecimiento.name }}</span>
            </td>
            <td>{{ item.created_at }}</td>
            <td>{{ item.btransitos.updated_at }}</td>
            <td>{{ item.btransitos.estados.name }}</td>
        </tr>
    </tbody>
</table>